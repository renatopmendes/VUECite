(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"8b24":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-header",[s("q-toolbar",{staticClass:"bg-dark"},[t.logged?s("q-btn",{attrs:{color:"secondary","aria-label":"New",icon:"add"},on:{click:function(e){1===t.pages.length&&t.createPost(t.pages[0])}}},[t.pages.length>1?s("q-menu",{staticClass:"z-max"},[s("q-list",{staticStyle:{"min-width":"100px"}},t._l(t.pages,(function(e,a){return s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:a,attrs:{clickable:""}},[s("q-item-section",{on:{click:function(s){return t.createPost(e)}}},[t._v(t._s(e.name))])],1)})),1)],1):t._e()],1):s("q-btn",{attrs:{color:"secondary","aria-label":"New",icon:"add"},on:{click:function(e){return t.$router.push({path:"register"})}}}),s("q-space"),s("q-input",{staticClass:"q-ml-md",attrs:{dark:"",dense:"",standout:"","input-class":"text-right"},on:{keyup:function(e){return t.searching(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}])}),s("q-space"),s("q-btn",{attrs:{flat:"",round:"","aria-label":"Configurations",icon:"person",to:"configurations"}}),this.$store.state.pages.notifications.length?s("span",{staticClass:"notifications bg-red-10"}):t._e()],1)],1),s("q-page-container",[s("q-page",{staticClass:"bg-dark"},[s("div",{staticClass:"my-menu fixed-center row justify-between text-white text-body2 text-weight-light"},[s("div",{class:{"text-weight-medium":0===t.show},on:{click:function(e){return t.reset(0)}}},[t._v("\n          Seguindo\n        ")]),s("span",[t._v("|")]),s("div",{class:{"text-weight-medium":1===t.show},on:{click:function(e){return t.reset(1)}}},[t._v("\n          Para você\n        ")])]),t.slides[0]?s("favorites",{directives:[{name:"show",rawName:"v-show",value:0===t.show,expression:"show===0"}],attrs:{pause:0===t.show},on:{toggleMenu:function(e){return t.reset(1)}}}):t._e(),t.slides[1]?s("recommended",{directives:[{name:"show",rawName:"v-show",value:1===t.show,expression:"show===1"}],attrs:{pause:1===t.show}}):t._e()],1),t.old?t._e():s("div",{staticClass:"fit fixed-center z-max",staticStyle:{"background-color":"rgba(0,0,0,0.95)"}},[s("div",{staticClass:"absolute-center text-body1 text-white",staticStyle:{width:"90%"}},[s("p",[t._v("\n          Deslize para cima para trocar de página.\n          "),s("br"),t._v("\n          Deslize para a esquerda para ver posts da mesma página.\n          "),s("br"),t._v("\n          Clique na imagem de capa circular para acessar a página.\n          "),s("br"),t._v("\n          Se houver texto descritivo no rodapé arraste-o para cima para ler tudo.\n        ")]),s("q-btn",{staticClass:"float-right",attrs:{color:"secondary",label:"OK, entendi"},on:{click:t.started}})],1)])],1),s("input",{staticClass:"input-galeria hidden",attrs:{type:"file",accept:"image/*,video/*"},on:{change:t.toggle}}),s("input",{staticClass:"input-photo hidden",attrs:{type:"file",accept:"image/*",capture:"camera"},on:{change:t.toggle}}),s("input",{staticClass:"input-video hidden",attrs:{type:"file",accept:"video/*",capture:"camcorder"},on:{change:t.toggle}})],1)},o=[],i=(s("5319"),s("498a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.pages.length?s("carousel",{attrs:{pages:t.pages,pause:t.pause,startV:t.startedFavorites[0],startH:t.startedFavorites[1],admob:t.admob,download:"Cache"},on:{updateH:t.updatedH,updateV:t.updatedV}}):s("div",{staticClass:"fixed-center full-width text-h5 text-center text-white"},[t._v("\n    "+t._s(t.msg)+"\n  ")])],1)}),n=[],r=s("3693"),c={name:"Recommended",components:{Carousel:r["a"]},props:{pause:{type:Boolean,default:()=>!1}},data(){return{msg:"Carregando...",following:[],startedFavorites:[0,0],admob:!1,account:{pro:0}}},computed:{pages:function(){return this.$store.state.pages.favorites}},created(){this.startedFavorites=this.$store.state.pages.startedFavorites,this.$store.state.pages.show?(this.$emit("toggleMenu"),this.msg="Você ainda não segue nenhuma página."):localStorage.getItem("account")?(this.account=this.$storage.getObj("account"),this.account.following.length?this.following=this.account.following.map(t=>t.page):(this.$emit("toggleMenu"),this.msg="Você ainda não segue nenhuma página.")):localStorage.getItem("following")?(this.following=this.$storage.getObj("following").map(t=>t.page),this.following.length||(this.$emit("toggleMenu"),this.msg="Você ainda não segue nenhuma página.")):(this.$emit("toggleMenu"),this.msg="Você ainda não segue nenhuma página.")},methods:{getPages:function(t){this.$axios.get(`favorites/6/6/${t}/${this.following.join(",")}`).then(t=>{const e=t.data.data;e.length&&this.$store.commit("pages/pushFavorites",e)})},getPosts:function(t,e){this.$axios.get(`page/${this.pages[t].id}/posts/6/${e}`).then(t=>{const e=t.data.data;e.length&&this.$store.commit("pages/pushFavoritesPosts",e)})},updatedH:function(t){this.pages[t.v].posts.length%6===0&&t.h===this.pages[t.v].posts.length-4&&this.getPosts(t.v,this.pages[t.v].posts.length/6),this.showAd(),this.$store.commit("pages/setStartedFavorites",[t.v,t.h])},updatedV:function(t){this.pages.length%6===0&&t.v===this.pages.length-4&&this.getPages(this.pages.length/6),this.showAd(),this.$store.commit("pages/setStartedFavorites",[t.v,t.h])},showAd:function(){this.$store.commit("pages/setcounterAd"),this.account.pro||this.$store.state.pages.counterAd!==this.$store.state.pages.ads||(window.admob.interstitial.load({id:{android:"ca-app-pub-7877878592385970/1810585249",ios:"ca-app-pub-7877878592385970/1810585249"}}).then(()=>{window.admob.interstitial.show(),this.admob=!0,setTimeout(()=>{this.admob=!1},5e3)}),this.$store.commit("pages/setAds"))}}},g=c,d=s("2877"),p=Object(d["a"])(g,i,n,!1,null,null,null),l=p.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.pages.length?s("carousel",{attrs:{pages:t.pages,pause:t.pause,startV:t.startedRecommended[0],startH:t.startedRecommended[1],admob:t.admob},on:{updateH:t.updatedH,updateV:t.updatedV}}):s("div",{staticClass:"fixed-center full-width text-h5 text-center text-white"},[t._v("\n    Carregando...\n  ")])],1)},u=[],m={name:"Recommended",components:{Carousel:r["a"]},props:{pause:{type:Boolean,default:()=>!1}},data(){return{pagination:0,following:[],startedRecommended:[0,0],admob:!1,account:{pro:0}}},computed:{pages:function(){return this.$store.state.pages.recommended}},created(){this.startedRecommended=this.$store.state.pages.startedRecommended,localStorage.getItem("account")?(this.account=this.$storage.getObj("account"),this.account.following.length&&(this.following=this.account.following.map(t=>t.page))):localStorage.getItem("following")&&(this.following=this.$storage.getObj("following").map(t=>t.page))},methods:{getPages:function(t,e){this.$axios.get(`recommended/${t}/6/${e}/${this.following.join(",")}`).then(t=>{const e=t.data.data;e.length?this.$store.commit("pages/pushRecommended",e):(this.pagination=0,this.getPages(6,this.pagination))})},getPosts:function(t,e){this.$axios.get(`page/${this.pages[t].id}/posts/6/${e}`).then(t=>{const e=t.data.data;e.length&&this.$store.commit("pages/pushRecommendedPosts",e)})},updatedH:function(t){this.pages[t.v].posts.length%6===0&&t.h===this.pages[t.v].posts.length-4&&this.getPosts(t.v,this.pages[t.v].posts.length/6),this.showAd(),this.$store.commit("pages/setStartedRecommended",[t.v,t.h])},updatedV:function(t){if(t.v===this.pages.length-4){const t=this.pages.length%6;0===t?this.getPages(6,++this.pagination):(this.pagination=0,this.getPages(6-t,this.pagination))}this.showAd(),this.$store.commit("pages/setStartedRecommended",[t.v,t.h])},showAd:function(){this.$store.commit("pages/setcounterAd"),this.account.pro||this.$store.state.pages.counterAd!==this.$store.state.pages.ads||(window.admob.interstitial.load({id:{android:"ca-app-pub-7877878592385970/1810585249",ios:"ca-app-pub-7877878592385970/1810585249"}}).then(()=>{window.admob.interstitial.show(),this.admob=!0,setTimeout(()=>{this.admob=!1},5e3)}),this.$store.commit("pages/setAds"))}}},f=m,w=Object(d["a"])(f,h,u,!1,null,null,null),v=w.exports,b={name:"Index",components:{Favorites:l,Recommended:v},data:()=>({logged:!1,slides:[!0,!1],show:0,pages:[],page:{},newMessagePage:null,old:!0}),created(){localStorage.getItem("account")?(this.logged=!0,this.pages=this.$storage.getObj("account").pages):this.logged=!1,localStorage.getItem("old")||(this.old=!1)},methods:{reset:function(t){this.slides=[!0,!1],this.slides[t]=!0,this.show=t,this.$store.commit("pages/setShow",t)},createPost:function(t){this.page=t;const e=!0;this.$q.bottomSheet({message:"Selecione:",grid:e,actions:[{label:"Galeria",img:"gallery.png",id:"galeria"},{label:"Texto",img:"text.png",id:"text"},{},{label:"Foto",img:"photo.png",id:"photo"},{label:"Video",img:"video.png",id:"video"}]}).onOk(t=>{"text"===t.id?this.$router.push({name:"newTextMessage",params:{pageId:this.page.id,pageName:this.page.name,pageTopic:this.page.fcm_topic}}):this.$el.querySelector(".input-"+t.id).click()})},toggle:function(t){const e=t.target.files[0];if("video"===e.type.split("/")[0]&&e.size>5242880)this.$q.notify({type:"negative",position:"top",message:"Máximo arquivo permitido: 5MB"});else{const t="image"===e.type.split("/")[0]?"newImageMessage":"newVideoMessage";this.$router.push({name:t,params:{pageId:this.page.id,pageName:this.page.name,pageTopic:this.page.fcm_topic,file:e}})}},searching:function(t){if(13===t.keyCode){const e=t.target.value.replace(/\s{2,}/g," ").trim();e.length<3?this.$q.notify({type:"warning",position:"center",message:"Mínimo de 3 caracteres"}):this.$router.push({path:"search",query:{q:e}})}},started:function(){this.old=!0,localStorage.setItem("old",1)}}},$=b,x=(s("c2b4"),s("e359")),y=s("65c6"),_=s("9c40"),q=s("4e73"),C=s("1c1c"),S=s("66e5"),P=s("4074"),k=s("2c91"),I=s("27f9"),V=s("0016"),M=s("09e3"),A=s("9989"),Q=s("7f67"),R=s("eebe"),j=s.n(R),F=Object(d["a"])($,a,o,!1,null,"9fa3cdc2",null);e["default"]=F.exports;j()(F,"components",{QHeader:x["a"],QToolbar:y["a"],QBtn:_["a"],QMenu:q["a"],QList:C["a"],QItem:S["a"],QItemSection:P["a"],QSpace:k["a"],QInput:I["a"],QIcon:V["a"],QPageContainer:M["a"],QPage:A["a"]}),j()(F,"directives",{ClosePopup:Q["a"]})},c2b4:function(t,e,s){"use strict";var a=s("ebb7"),o=s.n(a);o.a},ebb7:function(t,e,s){}}]);