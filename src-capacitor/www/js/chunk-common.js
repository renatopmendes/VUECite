(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{3693:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fixed-top bg-dark"},[i("swiper",{ref:"swip",staticClass:"swiper vertical text-white",attrs:{options:t.swiperOptionv},on:{"slide-change-transition-start":t.changeStart,"slide-change-transition-end":t.change}},t._l(t.pages,(function(e,s){return i("swiper-slide",{key:s},[i("swiper",{ref:"swip"+s,refInFor:!0,staticClass:"swiper",attrs:{options:t.swiperOptionh},on:{"slide-change-transition-start":t.changeStart,"slide-change-transition-end":function(e){return t.change(s)}}},t._l(e.posts,(function(a,o){return i("swiper-slide",{key:o},[a.video?i("div",{staticClass:"fit backdrop column justify-center items-center",style:"background-image: url("+t.path+e.id+"/"+a.id+"/"+a.image+")"},[i("div",{staticClass:"backdrop__filter fit fixed"}),i("div",{staticClass:"snapshot",style:"background-image: url("+t.path+e.id+"/"+a.id+"/"+a.image+")"},[i("q-spinner",{staticClass:"loading",attrs:{color:"white",size:"3em"}})],1),i("video",{class:["invisible absolute-center full-width","video"+s+o],attrs:{src:t.path+e.id+"/"+a.id+"/"+a.video,autoplay:0===s&&0===o&&0===t.startV&&0===t.startH,loop:"",preload:"auto"},on:{canplay:t.playVideo,click:function(e){return t.controlVideo(e.target)}}})]):a.image?i("div",{staticClass:"fit backdrop column justify-center items-center",style:"background-image: url("+t.path+e.id+"/"+a.id+"/"+a.image+")"},[i("div",{staticClass:"backdrop__filter fit fixed"}),i("q-img",{attrs:{src:t.path+e.id+"/"+a.id+"/"+a.image,"spinner-color":"white"}})],1):a.message?i("div",{class:["message fit q-my-lg q-px-md column justify-center items-center","bg-"+a.color+"-10",a.textSize],style:{"font-family":a.family}},[t._v(t._s(a.message))]):a.youtube?i("div",{staticClass:"fit backdrop column justify-center items-center",style:"background-image: url(https://img.youtube.com/vi/"+a.youtube+"/mqdefault.jpg)"},[i("div",{staticClass:"backdrop__filter fit fixed"}),i("div",{staticClass:"youtube q-my-xl",style:"background-image: url(https://img.youtube.com/vi/"+a.youtube+"/mqdefault.jpg)"},[i("q-spinner",{staticClass:"loading",attrs:{color:"white",size:"3em"}}),i("iframe",{class:"yt"+s+o,attrs:{src:"https://www.youtube.com/embed/"+a.youtube+"?autoplay=0&controls=0&fs=0&rel=0&showinfo=0",frameborder:"0"}})],1)]):t._e(),i("div",{staticClass:"absolute-bottom-left q-ml-sm q-mb-xl text-left",on:{click:function(i){"page"!==t.$router.currentRoute.name&&"profile"!==t.$router.currentRoute.name&&t.$router.push({path:"profile",query:{id:e.id}})}}},[i("avatar",{attrs:{id:e.id,avatar:e.avatar,download:t.download}}),i("div",{staticClass:"text-white ellipsis",staticStyle:{"text-shadow":"2px 2px rgba(0, 0, 0, 0.3)",width:"80vw"}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1),i("div",{staticClass:"absolute q-mr-sm q-mb-xl text-right",staticStyle:{bottom:"75px",right:"0","text-shadow":"2px 2px rgba(0, 0, 0, 0.3)"}},[i("q-icon",{staticStyle:{"font-size":"1.7em","margin-bottom":"-4px"},attrs:{color:"white",name:"visibility"}}),i("div",{staticClass:"text-white text-center"},[t._v("\n              "+t._s(a.views>1e7?Math.floor(a.views/1e6)+"M":a.views>1e4?Math.floor(a.views/1e3)+"K":a.views)+"\n            ")])],1),i("div",{staticClass:"absolute-bottom-right q-mr-sm q-mb-xl text-right",staticStyle:{"text-shadow":"2px 2px rgba(0, 0, 0, 0.3)"}},[i("div",[a.video?t._e():i("q-icon",{staticClass:"q-mb-md",staticStyle:{"font-size":"1.7em"},attrs:{color:"white",name:"share"},on:{click:t.share}})],1),a.youtube?t._e():i("q-icon",{staticStyle:{"font-size":"1.7em"},attrs:{color:"white",name:"get_app"},on:{click:t.makeDownload}})],1),a.commentary?i("div",{staticClass:"commentary absolute-bottom q-px-sm bg-dark text-white"},[i("div",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.mouse.up",value:function(e){t.$el.querySelector(".commentary-"+s+"-"+o).classList.remove("ellipsis")},expression:"$event => {$el.querySelector(`.commentary-${i}-${j}`).classList.remove('ellipsis')}",modifiers:{mouse:!0,up:!0}},{name:"touch-swipe",rawName:"v-touch-swipe.mouse.down",value:function(e){t.$el.querySelector(".commentary-"+s+"-"+o).classList.add("ellipsis")},expression:"$event => {$el.querySelector(`.commentary-${i}-${j}`).classList.add('ellipsis')}",modifiers:{mouse:!0,down:!0}}],staticClass:"text-center"},[t._v("\n              ...\n            ")]),i("div",{class:["commentary__text ellipsis","commentary-"+s+"-"+o]},[t._v("\n              "+t._s(a.commentary)+"\n            ")])]):t._e()])})),1)],1)})),1)],1)},a=[],o=(i("c19f"),i("ace4"),i("e6cf"),i("5319"),i("5cc6"),i("7212")),r=(i("a7a3"),i("df3a")),n=i("f303"),c=i("ea41"),l=i.n(c),h=i("81c3"),d={name:"Carousel",components:{Avatar:r["a"],Swiper:o["Swiper"],SwiperSlide:o["SwiperSlide"]},props:{pages:{type:Array,default:()=>[]},startV:{type:Number,default:()=>0},startH:{type:Number,default:()=>0},pause:{type:Boolean,default:()=>!1},admob:{type:Boolean,default:()=>!1}},data(){return{path:null,download:null,swiperOptionv:{direction:"vertical",preloadImages:!1,spaceBetween:1},swiperOptionh:{preloadImages:!1,spaceBetween:1},activeV:0,activeH:0}},created(){this.path="https://storage.googleapis.com/cite-pages/pages/"},mounted(){1===this.pages.length&&(this.$refs.swip.$swiper.allowSlidePrev=!1,this.$refs.swip.$swiper.allowSlideNext=!1),1===this.pages[0].posts.length&&(this.$refs.swip0[0].$swiper.allowSlidePrev=!1,this.$refs.swip0[0].$swiper.allowSlideNext=!1),this.$refs.swip.$swiper.slideTo(this.startV,0,!1),this.$refs["swip"+this.startV][0].$swiper.slideTo(this.startH,0,!1),this.activeV=this.startV,this.activeH=this.startH,this.change()},watch:{startV:function(t){this.$refs.swip.$swiper.slideTo(t,0,!1),this.activeV=this.startV,this.activeH=this.startH,this.change()},startH:function(t){this.$refs["swip"+this.startV][0].$swiper.slideTo(t,0,!1),this.activeV=this.startV,this.activeH=this.startH,this.change()},pause:function(t){if(this.pages[this.activeV].posts[this.activeH].video&&this.$el.querySelector(`.video${this.activeV}${this.activeH}`)){const e=this.$el.querySelector(`.video${this.activeV}${this.activeH}`);t?e.play():(e.pause(),e.currentTime=0)}if(!t&&this.pages[this.activeV].posts[this.activeH].youtube){const t=this.$el.querySelector(`.yt${this.activeV}${this.activeH}`),e=t.src;t.src="",t.src=e}},admob:function(t){if(t){if(this.pages[this.activeV].posts[this.activeH].video&&this.$el.querySelector(`.video${this.activeV}${this.activeH}`)){const t=this.$el.querySelector(`.video${this.activeV}${this.activeH}`);t.pause(),t.currentTime=0}if(this.pages[this.activeV].posts[this.activeH].youtube){const t=this.$el.querySelector(`.yt${this.activeV}${this.activeH}`),e=t.src;t.src="",t.src=e}}}},methods:{changeStart:function(t=null){const e=t||this.$refs.swip.$swiper.activeIndex,i=this.$refs["swip"+e][0].$swiper.activeIndex;if(this.pages[this.activeV].posts[this.activeH].video){const t=this.$el.querySelector(`.video${this.activeV}${this.activeH}`);t.pause()}if(this.pages[this.activeV].posts[this.activeH].youtube){const t=this.$el.querySelector(`.yt${this.activeV}${this.activeH}`),e=t.src;t.src="",t.src=e}this.activeV=e,this.activeH=i},change:function(t=null){if(this.pages[this.activeV].posts[this.activeH].video&&this.$el.querySelector(`.video${this.activeV}${this.activeH}`)){const t=this.$el.querySelector(`.video${this.activeV}${this.activeH}`);t.play()}null!==t?this.$emit("updateH",{v:this.activeV,h:this.activeH}):this.$emit("updateV",{v:this.activeV,h:this.activeH})},playVideo:function(t){t.target.classList.remove("invisible")},controlVideo:function(t){t.paused?t.play():t.pause()},share:function(){if(this.$q.notify({type:"info",position:"top",message:"Processando..."}),this.pages[this.activeV].posts[this.activeH].youtube)h["b"].Share.share({text:this.pages[this.activeV].posts[this.activeH].commentary?'"Cite app: '+this.pages[this.activeV].posts[this.activeH].commentary:'"Cite app: ',url:"https://youtu.be/"+this.pages[this.activeV].posts[this.activeH].youtube,dialogTitle:"Compartilhar vÃ­deo do youtube"});else if(this.pages[this.activeV].posts[this.activeH].image)fetch("https://cite-dccb7.rj.r.appspot.com/api/media/"+this.pages[this.activeV].id+"/"+this.pages[this.activeV].posts[this.activeH].id+"/"+this.pages[this.activeV].posts[this.activeH].image,{mode:"cors"}).then(t=>t.blob()).then(t=>{const e=new FileReader;e.onload=()=>{const t=new Image;t.src=e.result,t.onload=()=>{const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0);const s=Math.floor(e.width>e.height?.04*e.width:.03*e.height);i.font=s+"px Roboto",i.fillStyle="white",i.shadowOffsetX=2,i.shadowOffsetY=2,i.shadowBlur=0,i.shadowColor="rgba(0, 0, 0, 0.3)",i.textAlign="left";const a=this.pages[this.activeV].name;i.fillText(a,5,e.height-5);const o=new Image;o.src="cite-share.png",o.onload=()=>{let t=Math.floor(e.width>e.height?.08*e.width:.07*e.height);t=t<100?t:100,i.drawImage(o,e.width-(t+5),e.height-t,t,t),h["b"].FileSharer.share({filename:"shared.png",base64Data:e.toDataURL().replace("data:image/png;base64,",""),contentType:"image/png"}).catch(t=>{this.$q.notify({type:"negative",position:"top",message:"Erro ao compartilhar"})})}}},e.readAsDataURL(t)});else{const t=this.canvasFromMessage(),e=t.getContext("2d"),i=new Image;i.src="cite-share.png",i.onload=()=>{let s=Math.floor(t.width>t.height?.08*t.width:.07*t.height);s=s<100?s:100,e.drawImage(i,t.width-(s+5),t.height-s,s,s),h["b"].FileSharer.share({filename:"shared.png",base64Data:t.toDataURL().replace("data:image/png;base64,",""),contentType:"image/png"}).then(()=>{document.querySelector(".removelater").remove()}).catch(t=>{document.querySelector(".removelater").remove(),this.$q.notify({type:"negative",position:"top",message:"Erro ao compartilhar"})})}}},makeDownload:function(){if(this.$q.notify({type:"info",position:"top",message:"Processando..."}),this.pages[this.activeV].posts[this.activeH].video){const t="https://cite-dccb7.rj.r.appspot.com/api/media/"+this.pages[this.activeV].id+"/"+this.pages[this.activeV].posts[this.activeH].id+"/",e=this.pages[this.activeV].posts[this.activeH].video,i=this.pages[this.activeV].id.toString(),s=this;fetch(t+e,{mode:"cors"}).then(t=>t.blob()).then(t=>{const a=this.$q.platform.is.android?"file:///storage/emulated/0/":"cordova.file.documentsDirectory";window.resolveLocalFileSystemURL(a,a=>{a.getDirectory(i,{create:!0},i=>{i.getFile(e,{create:!0,exclusive:!1},e=>{e.createWriter(e=>{e.onwriteend=()=>{s.$q.notify({type:"positive",position:"top",message:"Download realizado"})},e.onerror=function(t){s.$q.notify({type:"negative",position:"top",message:"Erro ao fazer download"})},e.write(t)})},(function(t){console.error(t)}))},(function(t){console.error(t)}))},(function(t){console.error(t)}))}).catch((function(t){console.error("Failed retrieving information",t)}))}else if(this.pages[this.activeV].posts[this.activeH].image){const t="https://cite-dccb7.rj.r.appspot.com/api/media/"+this.pages[this.activeV].id+"/"+this.pages[this.activeV].posts[this.activeH].id+"/",e=this.pages[this.activeV].posts[this.activeH].image,i=this.pages[this.activeV].id.toString(),s=this;fetch(t+e,{mode:"cors"}).then(t=>t.blob()).then(t=>{const a=this.$q.platform.is.android?"file:///storage/emulated/0/":"cordova.file.documentsDirectory";window.resolveLocalFileSystemURL(a,a=>{a.getDirectory(i,{create:!0},i=>{i.getFile(e,{create:!0,exclusive:!1},e=>{e.createWriter(e=>{const i=new FileReader;i.onloadend=()=>{e.onwriteend=()=>{s.$q.notify({type:"positive",position:"top",message:"Download realizado"})},e.onerror=function(t){s.$q.notify({type:"negative",position:"top",message:"Erro ao fazer download"})};const t=new Image;t.src=i.result,t.onload=()=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");s.drawImage(t,0,0);const a=Math.floor(i.width>i.height?.04*i.width:.03*i.height);s.font=a+"px Roboto",s.fillStyle="white",s.shadowOffsetX=2,s.shadowOffsetY=2,s.shadowBlur=0,s.shadowColor="rgba(0, 0, 0, 0.3)",s.textAlign="left";const o=this.pages[this.activeV].name;s.fillText(o,5,i.height-5);const r=new Image;r.src="cite-share.png",r.onload=()=>{let t=Math.floor(i.width>i.height?.08*i.width:.07*i.height);t=t<100?t:100,s.drawImage(r,i.width-(t+5),i.height-t,t,t),e.write(this.b64toBlob(i.toDataURL()))}}},i.readAsDataURL(t)})},(function(t){console.error(t)}))},(function(t){console.error(t)}))},(function(t){console.error(t)}))}).catch((function(t){console.error("Failed retrieving information",t)}))}else{const t=this.canvasFromMessage(),e=t.getContext("2d"),i=new Image;i.src="cite-share.png",i.onload=()=>{let s=Math.floor(t.width>t.height?.08*t.width:.07*t.height);s=s<100?s:100,e.drawImage(i,t.width-(s+5),t.height-s,s,s);const a=this.pages[this.activeV].id.toString(),o=this.$q.platform.is.android?"file:///storage/emulated/0/":"cordova.file.documentsDirectory";window.resolveLocalFileSystemURL(o,e=>{e.getDirectory(a,{create:!0},e=>{e.getFile("download.png",{create:!0,exclusive:!1},e=>{e.createWriter(e=>{e.onwriteend=()=>{document.querySelector(".removelater").remove(),this.$q.notify({type:"positive",position:"top",message:"Download realizado"})},e.onerror=function(t){document.querySelector(".removelater").remove(),this.$q.notify({type:"negative",position:"top",message:"Erro ao fazer download"})},t.toBlob((function(t){e.write(t)}),"image/png")})},(function(t){console.error(t)}))},(function(t){console.error(t)}))},(function(t){console.error(t)}))}}},canvasFromMessage:function(){const t=document.createElement("div");t.setAttribute("class","invisibile q-pb-md q-px-md full-width column justify-center items-center"),t.classList.add(`bg-${this.pages[this.activeV].posts[this.activeH].color}-10`),t.classList.add(this.pages[this.activeV].posts[this.activeH].textSize),t.classList.add("removelater");const e=document.createElement("div");e.classList.add("full-width"),e.innerText=this.pages[this.activeV].posts[this.activeH].message,t.append(e),document.body.append(t);const i=[n["c"].width(t),n["c"].height(t),n["c"].width(t)/2];t.style.minHeight=i[2]+"px";const s=document.createElement("canvas");s.width=i[0],s.height=i[1]<i[2]?i[2]:i[1];const a=s.getContext("2d");a.fillStyle=n["c"].style(t,"background-color"),a.fillRect(0,0,s.width,s.height),a.fillStyle="#fff",a.shadowOffsetX=2,a.shadowOffsetY=2,a.shadowBlur=2,a.shadowColor="rgba(0, 0, 0, 0.3)",a.textAlign="center",l.a.font=this.pages[this.activeV].posts[this.activeH].family,l.a.fontSize=parseInt(n["c"].style(t,"font-size")),l.a.lineHeight=parseInt(n["c"].style(t,"line-height")),l.a.drawText(a,e.innerText,n["c"].offset(e).left-n["c"].offset(t).left,n["c"].offset(e).top-n["c"].offset(t).top,n["c"].width(e),n["c"].height(e));const o=Math.floor(s.width>s.height?.03*s.width:.03*s.height);a.font=o+"px Roboto",a.fillStyle="white",a.shadowOffsetX=2,a.shadowOffsetY=2,a.shadowBlur=0,a.shadowColor="rgba(0, 0, 0, 0.3)",a.textAlign="left";const r=this.pages[this.activeV].name;return a.fillText(r,5,s.height-5),s},b64toBlob:function(t){for(var e=atob(t.split(",")[1]),i=new ArrayBuffer(e.length),s=new Uint8Array(i),a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return new Blob([i],{type:"image/png"})}}},p=d,u=(i("7c96"),i("f919"),i("2877")),g=i("0d59"),f=i("068f"),m=i("0016"),v=i("12c5"),w=i("eebe"),y=i.n(w),b=Object(u["a"])(p,s,a,!1,null,"3ead4051",null);e["a"]=b.exports;y()(b,"components",{QSpinner:g["a"],QImg:f["a"],QIcon:m["a"]}),y()(b,"directives",{TouchSwipe:v["a"]})},"454f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCarousel,expression:"!showCarousel"}]},[i("q-infinite-scroll",{attrs:{offset:50},on:{load:t.getPosts}},[i("div",{staticClass:"absolute-top row content-start"},t._l(t.pages[0].posts,(function(e,s){return i("div",{key:s,staticClass:"post",on:{click:function(e){return t.openCarousel(s)}}},[e.image?i("div",{staticClass:"post__content",style:"background-image: url("+t.path+e.id+"/"+e.image+")"},[t.remove?i("q-btn",{staticClass:"absolute",staticStyle:{right:"5px",top:"5px"},attrs:{dense:"",rounded:"",icon:"delete",color:"negative"},on:{click:function(i){return i.stopPropagation(),t.removePost(e.id,s)}}}):t._e()],1):e.message?i("div",{class:["post__content","bg-"+e.color+"-10"],style:{"font-family":e.family}},[t.remove?i("q-btn",{staticClass:"absolute",staticStyle:{right:"5px",top:"5px"},attrs:{dense:"",rounded:"",icon:"delete",color:"negative"},on:{click:function(i){return i.stopPropagation(),t.removePost(e.id,s)}}}):t._e(),i("div",{staticClass:"message absolute-center text-h5 text-center text-white ellipsis-2-lines"},[t._v(t._s(e.message))])],1):e.youtube?i("div",{staticClass:"post__content",style:"background-image: url(https://img.youtube.com/vi/"+e.youtube+"/mqdefault.jpg)"},[t.remove?i("q-btn",{staticClass:"absolute",staticStyle:{right:"5px",top:"5px"},attrs:{dense:"",rounded:"",icon:"delete",color:"negative"},on:{click:function(i){return i.stopPropagation(),t.removePost(e.id,s)}}}):t._e(),i("q-icon",{staticClass:"yt-play absolute-center",attrs:{name:"play_arrow",color:"white"}})],1):t._e()])})),0),t.loading?i("div",{staticClass:"bg-white fixed-bottom text-center"},[i("q-spinner-dots",{attrs:{color:"primary",size:"4em"}})],1):t._e()])],1),t.noPosts?i("div",[i("div",{staticClass:"q-ma-xl text-h5 text-center"},[t._v("Nada ainda por aqui.")]),i("div",{staticClass:"q-pa-sm fixed full-width bg-primary text-white text-center",staticStyle:{bottom:"28px"}},[t._v("\n      Crie o seu primeiro conteÃºdo.\n    ")])]):t._e(),t.isCarousel?i("carousel",{directives:[{name:"show",rawName:"v-show",value:t.showCarousel,expression:"showCarousel"}],ref:"mycarousel",staticStyle:{"z-index":"1"},attrs:{pages:t.pages,startH:t.start,pause:t.pause},on:{updateH:t.updatedH}}):t._e()],1)},a=[],o=(i("a434"),i("3693")),r={name:"Grid",components:{Carousel:o["a"]},props:{page:{type:Object,default:()=>null},remove:{type:Boolean,default:()=>!1},pause:{type:Boolean,default:()=>!1}},data(){return{path:null,noPosts:!1,loading:!1,pagination:0,pages:[{posts:[]}],start:0,isCarousel:!1,showCarousel:!1}},created(){this.path="https://storage.googleapis.com/cite-pages/pages/"+this.page.id+"/",this.pages[0]=this.page,this.pages[0].posts=[]},methods:{getPosts:function(t,e){this.loading=!0,this.$axios.get(`page/${this.page.id}/posts/12/${this.pagination++}`).then(t=>{const i=t.data.data;i.forEach(t=>{this.pages[0].posts.push(t)}),this.loading=!1,this.noPosts=0===this.pages[0].posts.length,this.$refs.mycarousel&&this.$refs.mycarousel.$forceUpdate(),12===i.length&&e&&e()})},openCarousel:function(t){this.start=t,this.isCarousel=!0,this.showCarousel=!0,this.$emit("showCarousel")},updatedH:function(t){t.h===this.pages[0].posts.length-4&&this.getPosts()},removePost:function(t,e){this.$q.dialog({message:"Deseja realmente excluir este post?",cancel:"Cancelar",ok:"Confirmar"}).onOk(()=>{this.$axios.delete("post/"+t).then(t=>{this.pages[0].posts.splice(e,1),this.$forceUpdate(),this.noPosts=0===this.pages[0].posts.length})})}}},n=r,c=(i("7897"),i("2877")),l=i("ef35"),h=i("9c40"),d=i("0016"),p=i("8380"),u=i("eebe"),g=i.n(u),f=Object(c["a"])(n,s,a,!1,null,"1dfae8d2",null);e["a"]=f.exports;g()(f,"components",{QInfiniteScroll:l["a"],QBtn:h["a"],QIcon:d["a"],QSpinnerDots:p["a"]})},"51b0":function(t,e,i){"use strict";var s=i("2b0e");const a=new s["default"],o=function(){this.notify=(t,e)=>{a.$axios.post("https://fcm.googleapis.com/fcm/send",{to:"/topics/"+t,priority:"high",notification:e,android:{notification:{sound:"default"}},apns:{payload:{aps:{sound:"default"}}}},{baseURL:"",headers:{Authorization:"key=AAAA6fwQiwU:APA91bGss4hbdPDUPyY7GinyVw1EwOEPjD2_1QJ0QGyfQwcpPsIjUNhwxr03lpCNigLDMngeot553QJat2BT138eR4r7LFh7W6gxHKQe1HTp7sEYjnyiC5Vr-jYXzYy5LlEPNLQWL0ng"}})}};e["a"]=new o},"5efd":function(t,e,i){},"6a38":function(t,e,i){},7897:function(t,e,i){"use strict";var s=i("cf00"),a=i.n(s);a.a},"7c96":function(t,e,i){"use strict";var s=i("6a38"),a=i.n(s);a.a},"81aa":function(t,e,i){"use strict";var s=i("81c3");const{Filesystem:a}=s["b"],o=function(){this.getSrc=(t="Cache")=>a.getUri({directory:s["a"][t],path:"/"}).then(t=>Capacitor.convertFileSrc(t.uri),t=>{alert(t)}),this.deleteFile=function(t,e="Cache"){return a.deleteFile({directory:s["a"][e],path:t})},this.stat=function(t,e="Cache"){return a.stat({directory:s["a"][e],path:t})}};e["a"]=new o},cf00:function(t,e,i){},df3a:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-avatar",{attrs:{size:t.size+"px"}},[i("img",{attrs:{src:t.file||t.avatar},on:{error:t.unexist}})])},a=[],o=(i("e6cf"),i("ddb0"),i("2b3d"),i("c973")),r=i.n(o),n=i("81aa"),c={name:"Avatar",props:{id:{type:Number,default:()=>null},avatar:{type:String,default:()=>null},download:{type:String,default:()=>null},size:{type:Number,default:()=>48}},data:()=>({file:null}),created(){var t=this;return r()((function*(){if(-1===t.avatar.search("base64")){const e=t.download?(yield n["a"].getSrc(t.download))+"/":"https://storage.googleapis.com/cite-pages/pages/";t.file=e+t.id+"/"+t.avatar}}))()},methods:{unexist:function(){if(this.download){const t=this.download.toLowerCase()+"Directory";fetch("https://cite-dccb7.rj.r.appspot.com/api/avatar/"+this.id+"/"+this.avatar,{mode:"cors"}).then(t=>t.blob()).then(e=>{window.resolveLocalFileSystemURL(cordova.file[t],t=>{t.getDirectory(this.id.toString(),{create:!0},t=>{t.getFile(this.avatar,{create:!0,exclusive:!1},t=>{t.createWriter(t=>{t.onwriteend=()=>{URL.revokeObjectURL(i),console.log("Successful file write...")},t.onerror=function(t){console.log("Failed file write: "+t.toString())};const i=URL.createObjectURL(e);this.file=i,t.write(e)})},(function(t){console.error(t)}))},(function(t){console.error(t)}))},(function(t){console.error(t)}))}).catch((function(t){console.error("Failed retrieving information",t)}))}}}},l=c,h=i("2877"),d=i("cb32"),p=i("eebe"),u=i.n(p),g=Object(h["a"])(l,s,a,!1,null,null,null);e["a"]=g.exports;u()(g,"components",{QAvatar:d["a"]})},f919:function(t,e,i){"use strict";var s=i("5efd"),a=i.n(s);a.a}}]);