(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{fbcc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-header",[n("q-toolbar",{staticClass:"bg-dark"},[n("q-btn",{attrs:{dense:"",flat:"","aria-label":"Back",icon:"arrow_back"},on:{click:function(t){return e.$router.go(-1)}}}),n("q-space"),n("div",{staticClass:"text-body1"},[e._v("\n        ADMIN\n      ")]),n("q-space"),n("q-btn",{attrs:{dense:"",flat:"","aria-label":"Notification",icon:"email",to:"notification"}})],1)],1),n("q-page-container",[n("div",{staticClass:"q-my-sm text-body1 text-center"},[e._v("\n      Usuários: "+e._s(e.infos.users)+"\n      "),n("br"),e._v("\n      Páginas: "+e._s(e.infos.pages)+"\n      "),n("br"),e._v("\n      Posts: "+e._s(e.infos.posts)+"\n    ")]),n("q-separator"),n("p",{staticClass:"q-mt-md text-h5 text-center text-primary"},[e._v("Denúncias")]),n("q-infinite-scroll",{attrs:{offset:250},on:{load:e.getDenounces}},[n("q-list",{attrs:{bordered:""}},e._l(e.denounces,(function(t,a){return n("q-expansion-item",{key:a,attrs:{"expand-separator":"",icon:"flag",label:t.page.name}},[n("q-card",[n("q-item",[n("q-item-section",{attrs:{avatar:""},on:{click:function(n){return n.stopPropagation(),e.$router.push({path:"profile",query:{id:t.page.id}})}}},[n("avatar",{attrs:{id:t.page.id,avatar:t.page.avatar,size:48}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(t.user.name))]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                  "+e._s(t.user.email)+"\n                ")])],1)],1),t.denouncer?n("q-card-section",{staticClass:"text-right"},[n("div",{staticClass:"text-body1"},[e._v("\n                Denunciante\n              ")]),n("div",[e._v("\n                "+e._s(t.denouncer.name)+"\n              ")]),n("div",{staticClass:"text-caption text-weight-light"},[e._v("\n                "+e._s(t.denouncer.email)+"\n              ")])]):e._e(),n("q-card-section",[e._v("\n              "+e._s(t.denounce)+"\n            ")]),n("q-card-actions",{attrs:{align:"around"}},[n("q-btn",{attrs:{flat:""},on:{click:function(n){return e.punish(t.user_id)}}},[e._v("Punir")]),n("q-btn",{attrs:{flat:"",color:"red",icon:"delete"},on:{click:function(n){return e.remove(t.id)}}})],1)],1)],1)})),1)],1),e.denounces.length?e._e():n("div",{staticClass:"text-body1 text-center absolute-center"},[e._v("\n      Nenhuma denúncia.\n    ")])],1)],1)},s=[],i=(n("a434"),n("5319"),n("df3a")),o={name:"denounces",components:{Avatar:i["a"]},data:function(){return{infos:{users:0,pages:0,posts:0},denounces:[],pagination:0}},created(){const e=this.$storage.getObj("account");e.role<9&&this.$router.replace("/"),this.$axios.get("auth/infos").then(e=>{this.infos=e.data})},methods:{getDenounces:function(e,t){this.$axios.get("denounce/50/"+this.pagination++).then(e=>{const n=e.data.data;n.forEach(e=>{this.denounces.push(e)}),50===n.length&&t&&t()})},punish:function(e){this.$q.dialog({message:"Punir este usuário?",cancel:"Cancelar",ok:"Confirmar"}).onOk(()=>{this.$axios.put("auth/punish/"+e)})},remove:function(e){const t=this.denounces[this.denounces.findIndex(t=>t.id===e)];this.$q.dialog({message:"Excluir esta denúncia?",cancel:"Cancelar",ok:"Confirmar"}).onOk(()=>{this.$axios.delete("denounce/"+t.id).then(e=>{this.denounces.splice(this.denounces.findIndex(e=>e.id===t.id),1)})})}}},c=o,r=n("2877"),d=n("e359"),u=n("65c6"),l=n("9c40"),p=n("2c91"),f=n("09e3"),h=n("eb85"),m=n("ef35"),b=n("1c1c"),g=n("3b73"),v=n("f09f"),_=n("66e5"),q=n("4074"),x=n("0170"),C=n("a370"),Q=n("4b7e"),k=n("eebe"),$=n.n(k),w=Object(r["a"])(c,a,s,!1,null,null,null);t["default"]=w.exports;$()(w,"components",{QHeader:d["a"],QToolbar:u["a"],QBtn:l["a"],QSpace:p["a"],QPageContainer:f["a"],QSeparator:h["a"],QInfiniteScroll:m["a"],QList:b["a"],QExpansionItem:g["a"],QCard:v["a"],QItem:_["a"],QItemSection:q["a"],QItemLabel:x["a"],QCardSection:C["a"],QCardActions:Q["a"]})}}]);