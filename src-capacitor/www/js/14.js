(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{c98e:function(e,o,a){"use strict";a.r(o);var s=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",[a("q-header",[a("q-toolbar",{staticClass:"bg-dark"},[a("q-btn",{attrs:{dense:"",flat:"","aria-label":"Back",icon:"arrow_back"},on:{click:function(o){return e.$router.go(-1)}}}),a("q-space"),a("div",{staticClass:"text-body1"},[e._v("\n        Conta\n      ")]),a("q-space"),a("q-btn",{attrs:{dense:"",flat:"","aria-label":"Home",icon:"home",to:"/"}})],1)],1),a("q-page-container",[a("q-banner",{staticClass:"bg-primary text-white text-center"},[e._v("\n      Acesse sua conta ou registre-se para ter acesso a outras funcionalidades e criar seus conteúdos.\n    ")]),a("q-page",[a("q-tabs",{staticClass:"text-grey",attrs:{"active-color":"primary","indicator-color":"primary"},model:{value:e.tab,callback:function(o){e.tab=o},expression:"tab"}},[a("q-tab",{attrs:{name:"login",label:"Login"}}),a("q-tab",{attrs:{name:"create",label:"Cadastro"}})],1),a("q-separator"),a("q-tab-panels",{staticClass:"q-mt-xl text-center",attrs:{animated:""},model:{value:e.tab,callback:function(o){e.tab=o},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"login"}},[a("q-form",{on:{submit:e.loginin}},[a("q-input",{attrs:{autofocus:"",filled:"",required:"",type:"email",label:"E-mail"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:e.login.email,callback:function(o){e.$set(e.login,"email",o)},expression:"login.email"}}),a("q-input",{staticClass:"q-mt-md",attrs:{filled:"",required:"",minlength:"8",label:"Senha",type:e.isLoginPwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:e.isLoginPwd?"visibility_off":"visibility"},on:{click:function(o){e.isLoginPwd=!e.isLoginPwd}}})]},proxy:!0}]),model:{value:e.login.password,callback:function(o){e.$set(e.login,"password",o)},expression:"login.password"}}),a("p",{staticClass:"text-left text-caption text-primary",on:{click:e.forgotPassword}},[e._v("Esqueci a senha")]),a("q-btn",{staticClass:"q-mt-lg",attrs:{round:"","aria-label":"OK",color:"positive",icon:"done",type:"submit"}})],1)],1),a("q-tab-panel",{attrs:{name:"create"}},[a("q-form",{on:{submit:e.register}},[a("q-input",{attrs:{autofocus:"",filled:"",required:"",minlength:"3",maxlength:"32",label:"Nome"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:e.create.name,callback:function(o){e.$set(e.create,"name",o)},expression:"create.name"}}),a("q-input",{staticClass:"q-my-md",attrs:{filled:"",required:"",type:"email",label:"E-mail"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:e.create.email,callback:function(o){e.$set(e.create,"email",o)},expression:"create.email"}}),a("q-input",{attrs:{filled:"",required:"",minlength:"8",label:"Senha",type:e.isCreatePwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:e.isCreatePwd?"visibility_off":"visibility"},on:{click:function(o){e.isCreatePwd=!e.isCreatePwd}}})]},proxy:!0}]),model:{value:e.create.password,callback:function(o){e.$set(e.create,"password",o)},expression:"create.password"}}),a("div",{staticClass:"q-mt-lg text-left text-caption text-primary",on:{click:function(o){e.showAccept=!0}}},[e._v("\n              Registrando-se você concorda com nossos Termos e Política de Dados.\n            ")]),a("q-btn",{staticClass:"q-mt-lg",attrs:{round:"","aria-label":"OK",color:"positive",icon:"done",type:"submit"}})],1)],1)],1)],1)],1),a("q-dialog",{model:{value:e.showAccept,callback:function(o){e.showAccept=o},expression:"showAccept"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Termos e Política de Dados")])]),a("q-card-section",{staticClass:"q-pt-none"},[e._v('\n        Bem-vindo ao "Cite.\n        '),a("br"),e._v('\n        "Cite cria tecnologias e serviços para que a pessoas possam criar e compartilhar conteúdos como mensagens, reflexões, citações, pensamentos e outros.\n        '),a("br"),e._v("\n        Os dados de cadastro que você fornece são confidenciais e não compartilhamos tampouco vendemos para ninguém.\n        "),a("br"),e._v("\n        Todos os dados, incluindo seus conteúdos e mensagens podem ser registrados e armazenados em servidores fora de seu país de origem.\n        "),a("br"),e._v("\n        Não são permitidos conteúdos ilícitos, enganosos, fraudulentos ou com finalidade ilegal ou não autorizada, ofensivos, discriminatórios, fraudulentos, impróprios a menores de 18 anos, que infrinja ou viole o direito de outras pessoas ou que viole esses termos.\n        "),a("br"),e._v("\n        Nos reservamos o direito de remover ou restringir o acesso a conteúdo que viole essas disposições.\n        "),a("br"),e._v('\n        Você nos concede a permissão para usar o conteúdo que você cria e compartilha: o conteúdo que você compartilha ou carrega, como fotos e vídeos, pode ser protegido por leis de propriedade intelectual.\n        Você é proprietário dos direitos de propriedade intelectual (como direitos autorais ou marcas registradas) sobre o conteúdo que cria e compartilha no "Cite. Nada nestes Termos afasta os direitos que você possui sobre seu próprio conteúdo. Você é livre para compartilhar seu conteúdo com qualquer pessoa, onde você quiser.\n        No entanto, para fornecer nossos serviços, precisamos que você nos conceda algumas permissões legais (conhecidas como “licença”) para usar esse conteúdo.\n        Especificamente, quando você compartilha, publica ou carrega conteúdo protegido por direitos de propriedade intelectual em nossos Produtos ou em conexão com nossos Produtos, você nos concede uma licença não exclusiva, transferível, sublicenciável, isenta de royalties e válida mundialmente para hospedar, usar, distribuir, modificar, veicular, copiar, executar publicamente ou exibir, traduzir e criar trabalhos derivados de seu conteúdo (de modo consistente com suas configurações de privacidade e do aplicativo).\n        Isso significa, por exemplo, que se você compartilhar uma foto no "Cite, você nos dará permissão para armazená-la, copiá-la e compartilhá-la com outras pessoas (mais uma vez, de modo consistente com suas configurações), como os provedores de serviços que fornecem suporte para nosso serviço.\n        Essa licença será encerrada quando o conteúdo for excluído de nossos sistemas.\n        Você pode excluir conteúdo individualmente ou todo de uma vez excluindo sua conta.\n        Quando você excluir o conteúdo, ele deixará de estar visível para outros usuários.\n        '),a("br"),e._v("\n        Se entendermos que você violou nossos Termos ou Políticas de forma manifesta, grave ou recorrente, poderemos suspender ou desativar permanentemente o acesso a sua conta.\n      ")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1)],1)},t=[],i=(a("26e9"),a("5319"),a("498a"),a("81c3"));const{FCMPlugin:n}=i["b"];var r={name:"Register",data:function(){return{tab:"login",login:{},create:{},showAccept:!1,isLoginPwd:!0,isCreatePwd:!0}},created(){localStorage.getItem("account")&&this.$router.replace("configurations")},methods:{forgotPassword:function(){this.login.email?this.$q.dialog({message:"Uma nova senha será enviada ao seu e-mail.",cancel:"Cancelar",ok:"Confirmar"}).onOk(()=>{this.$q.loading.show(),this.$axios.post("auth/forgotpassword",{email:this.login.email})}):this.$q.notify({type:"negative",position:"top",message:"Preencha o seu e-mail"})},loginin:function(){this.$q.loading.show();const e={email:this.login.email,password:this.login.password};localStorage.getItem("following")&&(e.following=this.$storage.getObj("following")),this.$axios.post("auth/login",e).then(e=>this.success(e))},register:function(){this.$q.loading.show(),this.$set(this.create,"name",this.create.name.replace(/\s{2,}/g," ").trim());const e={name:this.create.name,email:this.create.email,password:this.create.password};localStorage.getItem("following")&&(e.following=this.$storage.getObj("following")),this.$axios.post("auth/register",e).then(e=>this.success(e))},success:function(e){this.$q.loading.show(),localStorage.clear(),localStorage.setItem("old",1),this.$storage.setObj("bear",e.data.access_token),this.$axios.defaults.headers.Authorization="Bearer "+e.data.access_token;const o=e.data.user,a=o.following.map(e=>({page:e.page_id,notification:e.notification}));this.$storage.setObj("account",{id:o.id,name:o.name,email:o.email,role:o.role,pro:o.pro,following:a,pages:o.pages.map(e=>({id:e.id,name:e.name,avatar:e.avatar,link:e.link,about:e.about,fcm_topic:e.fcm_topic}))}),a.length&&(this.$axios.get("favorites/6/6/0/"+a.map(e=>e.page).join(",")).then(e=>{this.$store.commit("pages/clearFavorites"),this.$store.commit("pages/pushFavorites",e.data.data),this.$store.commit("pages/setStartedFavorites",[0,0])}),this.$q.loading.show()),o.notifications&&o.notifications.length&&(this.$store.commit("pages/clearNotifications"),this.$store.commit("pages/pushNotifications",o.notifications.reverse())),this.$axios.get("following/notifications").then(e=>{e.data.data.forEach(e=>{n.subscribeTo({topic:e.page.fcm_topic}).then(e=>console.log("subscribed to topic")).catch(e=>console.log(e))}),this.$router.replace("configurations")}).catch(e=>{console.log(e),this.$router.replace("configurations")})}}},c=r,l=a("2877"),d=a("e359"),p=a("65c6"),u=a("9c40"),m=a("2c91"),g=a("09e3"),f=a("54e1"),h=a("9989"),v=a("429b"),b=a("7460"),q=a("eb85"),w=a("adad"),x=a("823b"),$=a("0378"),y=a("27f9"),C=a("0016"),k=a("24e8"),_=a("f09f"),P=a("a370"),Q=a("4b7e"),S=a("7f67"),T=a("eebe"),O=a.n(T),A=Object(l["a"])(c,s,t,!1,null,null,null);o["default"]=A.exports;O()(A,"components",{QHeader:d["a"],QToolbar:p["a"],QBtn:u["a"],QSpace:m["a"],QPageContainer:g["a"],QBanner:f["a"],QPage:h["a"],QTabs:v["a"],QTab:b["a"],QSeparator:q["a"],QTabPanels:w["a"],QTabPanel:x["a"],QForm:$["a"],QInput:y["a"],QIcon:C["a"],QDialog:k["a"],QCard:_["a"],QCardSection:P["a"],QCardActions:Q["a"]}),O()(A,"directives",{ClosePopup:S["a"]})}}]);