(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"98de":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("q-header",[t("q-toolbar",{staticClass:"bg-dark"},[t("q-btn",{attrs:{dense:"",flat:"","aria-label":"Back",icon:"arrow_back"},on:{click:function(a){e.showCarousel?e.showCarousel=!1:e.$router.go(-1),e.$refs.grider.showCarousel=!1}}}),t("q-space"),t("div",{staticClass:"text-body1 ellipsis"},[e._v("\n        "+e._s(e.page?e.page.name:"Carregando...")+"\n      ")]),t("q-space"),t("q-btn",{attrs:{dense:"",flat:"","aria-label":"Home",icon:"home",to:"/"}})],1)],1),e.page?t("q-page-container",[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.showCarousel,expression:"!showCarousel"}],staticClass:"q-my-md q-mx-xl text-center"},[t("div",{on:{click:function(a){return e.$router.push({path:"newPage",query:{id:e.page.id}})}}},[t("avatar",{attrs:{id:e.page.id,avatar:e.page.avatar,size:80,download:"Data"}}),t("q-btn",{staticStyle:{margin:"60px 0 0 -20px"},attrs:{dense:"",round:"",color:"secondary","aria-label":"Edit",icon:"edit"}})],1),e.page.link?t("div",{staticClass:"q-mt-sm text-body2 text-weight-light",on:{click:e.goUrl}},[t("q-icon",{attrs:{name:"link"}}),e._v("\n        "+e._s(e.page.link)+"\n      ")],1):e._e(),e.page.views?t("div",{staticClass:"q-mt-xs text-body2 text-weight-light"},[e._v("\n        "+e._s(e.page.views>1e7?Math.floor(e.page.views/1e6)+"M":e.page.views>1e4?Math.floor(e.page.views/1e3)+"K":e.page.views)+" visualizações\n      ")]):e._e()]),e.page.about?t("div",{class:["q-ma-md text-left",{ellipsis:e.ellipsis}],on:{click:function(a){e.ellipsis=!e.ellipsis}}},[e._v("\n      "+e._s(e.page.about)+"\n    ")]):e._e(),t("q-separator"),t("div",{staticClass:"relative-position"},[t("grid",{ref:"grider",attrs:{remove:!0,page:e.page,pause:e.showCarousel},on:{showCarousel:function(a){e.showCarousel=!0}}})],1),t("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[t("q-btn",{attrs:{fab:"",icon:"add",color:"accent"},on:{click:e.createPost}})],1),t("input",{staticClass:"input-galeria hidden",attrs:{type:"file",accept:"image/*,video/*"},on:{change:e.toggle}}),t("input",{staticClass:"input-photo hidden",attrs:{type:"file",accept:"image/*",capture:"camera"},on:{change:e.toggle}}),t("input",{staticClass:"input-video hidden",attrs:{type:"file",accept:"video/*",capture:"camcorder"},on:{change:e.toggle}})],1):e._e()],1)},s=[],o=t("df3a"),n=t("454f"),r=t("b06b"),l={name:"Page",components:{Avatar:o["a"],Grid:n["a"]},data:()=>({page:null,ellipsis:!0,showCarousel:!1}),mounted(){this.$axios.get("/page/"+this.$route.query.id).then(e=>{this.page=e.data.page})},methods:{goUrl:function(){this.$q.dialog({message:"Você está prestes a deixar o aplicativo para acessar uma página externa.",cancel:"Cancelar",ok:"Confirmar"}).onOk(()=>{Object(r["a"])(this.page.link)})},createPost:function(){const e=!0;this.$q.bottomSheet({message:"Selecione:",grid:e,actions:[{label:"Galeria",img:"gallery.png",id:"galeria"},{label:"Texto",img:"text.png",id:"text"},{},{label:"Foto",img:"photo.png",id:"photo"},{label:"Video",img:"video.png",id:"video"}]}).onOk(e=>{"text"===e.id?this.$router.push({name:"newTextMessage",params:{pageId:this.page.id,pageName:this.page.name,pageTopic:this.page.fcm_topic}}):this.$el.querySelector(".input-"+e.id).click()})},toggle:function(e){const a=e.target.files[0];if("video"===a.type.split("/")[0]&&a.size>5242880)this.$q.notify({type:"negative",position:"top",message:"Máximo arquivo permitido: 5MB"});else{const e="image"===a.type.split("/")[0]?"newImageMessage":"newVideoMessage";this.$router.push({name:e,params:{pageId:this.page.id,pageName:this.page.name,pageTopic:this.page.fcm_topic,file:a}})}}}},p=l,c=t("2877"),g=t("e359"),d=t("65c6"),u=t("9c40"),h=t("2c91"),m=t("09e3"),v=t("0016"),f=t("eb85"),w=t("de5e"),b=t("eebe"),q=t.n(b),x=Object(c["a"])(p,i,s,!1,null,null,null);a["default"]=x.exports;q()(x,"components",{QHeader:g["a"],QToolbar:d["a"],QBtn:u["a"],QSpace:h["a"],QPageContainer:m["a"],QIcon:v["a"],QSeparator:f["a"],QPageSticky:w["a"]})}}]);